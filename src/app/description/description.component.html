<table class="center text-dark text-center" data-aos="flip-right">
    <tr>
        <th colspan="2"><h4>Mobile specifications</h4></th>
    </tr>
    <tr>
        <th><h5>Mobile Model</h5></th>
        <td>{{postObj.productTitle}}</td>
    </tr>
    <tr>
        <th><h5>Mobile Description</h5></th>
        <td>{{postObj.description}}</td>
    </tr>
    <tr>
        <th><h5>Mobile Image</h5></th>
        <td><img [src]=postObj.productImage class="mbImg" (click)="openImg(postObj.productImage)"></td>    
    </tr>
    <tr>
        <th><h5>Mobile Price</h5></th>
        <td>&#8377;&nbsp;{{postObj.price}}</td>    
    </tr>
</table>
<div class="container">
    <span class="heading">User Rating</span>
    <span class="fa fa-star checked"></span>
    <span class="fa fa-star checked"></span>
    <span class="fa fa-star checked"></span>
    <span class="fa fa-star checked"></span>
    <span class="fa fa-star"></span>
    <p><span>{{!ratingStatus?"4.1 ":OverAllRating}}</span> average based on {{countRating}} reviews.</p>
    <hr style="border:3px solid #f1f1f1">

    <div class="row">
    <div class="side">
        <div>5 star</div>
    </div>
    <div class="middle">
        <div class="bar-container">
        <div class="bar-5"></div>
        </div>
    </div>
    <div class="side right">
        <div>{{count5star}}</div>
    </div>
    <div class="side">
        <div>4 star</div>
    </div>
    <div class="middle">
        <div class="bar-container">
        <div class="bar-4"></div>
        </div>
    </div>
    <div class="side right">
        <div>{{count4star}}</div>
    </div>
    <div class="side">
        <div>3 star</div>
    </div>
    <div class="middle">
        <div class="bar-container">
        <div class="bar-3"></div>
        </div>
    </div>
    <div class="side right">
        <div>{{count3star}}</div>
    </div>
    <div class="side">
        <div>2 star</div>
    </div>
    <div class="middle">
        <div class="bar-container">
        <div class="bar-2"></div>
        </div>
    </div>
    <div class="side right">
        <div>{{count2star}}</div>
    </div>
    <div class="side">
        <div>1 star</div>
    </div>
    <div class="middle">
        <div class="bar-container">
        <div class="bar-1"></div>
        </div>
    </div>
    <div class="side right">
        <div>{{count1star}}</div>
    </div>
    </div>
    <form #ref="ngForm" name="firstForm" (ngSubmit)="userRated(ref,postObj,userObj)">
        <span>Post u'r Rating &nbsp;&nbsp;&nbsp;</span>
        <span><input *ngIf="dsObj.userLoginStatus()" name="posted" class="mt-3" type="number" min="1" max="5" ngModel></span>
        <span class="m-3"><button type="submit" class="btn btn-warning btn-sm mb-1" (click)="checkLogin()" [disabled]="!dsObj.userLoginStatus()"> Rate</button></span>
    
        <hr style="color:black">
        <h3 style="color: crimson;" class="text-center"><b>Comments</b></h3>
        <h6 *ngIf="!dsObj.userLoginStatus()"><i>Please Login to Comment and view comments...</i></h6>
        <div *ngIf="dsObj.userLoginStatus()">
            <div class="container" *ngFor="let comment of postObj.comments">
                <span class="m-2"><img src={{comment.profileImage}} height="40px" width="auto" style="border-radius: 50%;"></span>
                <span style="color:dodgerblue;">{{comment.username}}</span>
                <span class="float-end"><i class="fa-solid fa-trash delcom" (click)="deleteMyComment(comment.username,postObj)" *ngIf="userObj.username == comment.username"></i></span><br>
                <h6 style="margin-left: 15px;"><b>{{comment.comment}}</b></h6>
            </div>
        </div>
        <div class="mt-5">
            <span class="m-2"><img src={{userObj.profileImage}} height="50px" width="auto" style="border-radius: 50%;"></span>
            <span>{{userObj.username}}</span>
        </div>
        <div class="mb-3">
            <span><input type="text" class="text-line" placeholder="comment..." name="comment" ngModel *ngIf="dsObj.userLoginStatus()"></span>
            <span><button type="submit" class="btn btn-warning btn-sm m-2 cmt" *ngIf="dsObj.userLoginStatus()" >Post</button></span>
        </div>
    </form>
</div>


